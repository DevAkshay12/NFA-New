sap.ui.define(["sap/m/MessageToast","sap/suite/ui/commons/Timeline","sap/m/Dialog","sap/m/Button","sap/suite/ui/commons/TimelineItem"],function(e,t,n,o,a){"use strict";return{comment:function(t){var n=location.href;const o=/PAN_Number='([^']+)'/;const a=n.match(o);var i=a?a[1]:null;if(!i){console.log("PAN Number not found");e.show("PAN Number not found in the URL.");return}var s=this._view.getParent().getAppComponent().getManifestObject()._oBaseUri._string;var m={url:s+`odata/v4/catalog/PAN_Comments_APR`,method:"GET",headers:{Accept:"application/json"}};new Promise((e,t)=>{$.ajax(m).done(t=>e(t)).fail(e=>t(e))}).then(e=>{var t=e.value;var n=t.filter(e=>e.PAN_Number.trim()===i);var o=new sap.m.Dialog({title:"Comments",width:"350%",maxWidth:"450%",endButton:new sap.m.Button({text:"Close",press:function(){o.close()}})});o.addStyleClass("customDialogWidth");var a=new sap.suite.ui.commons.Timeline({width:"900%",enableScroll:true});if(n.length>0){n.forEach(function(e){var t=new sap.suite.ui.commons.TimelineItem({dateTime:e.createdAt,text:e.Comments,userName:e.createdBy});a.addContent(t)})}else{var s=new sap.suite.ui.commons.TimelineItem({dateTime:(new Date).toISOString(),text:"No comments available.",userName:"System"});a.addContent(s)}o.addContent(a);o.open()}).catch(t=>{console.error("Error fetching comments:",t);e.show("Error fetching comments.")})}}});
//# sourceMappingURL=Comment.js.map